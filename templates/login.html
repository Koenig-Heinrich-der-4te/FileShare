{% extends "base.html" %} {% block head %}
<title>Log In</title>
<link rel="stylesheet" href="{{url_for('static', filename='login.css')}}" />
{% endblock %} {% block content %}
<div class="content-centered"><h1>Log in</h1></div>
<form action="{{url_for('auth.api.login_api')}}" method="post">
    <label for="username">
        <span class="field-info">Username</span>
        <input id="username" type="text" name="username" placeholder="Username" required />
    </label>
    <label for="password">
        <span class="field-info">Password</span>
        <input id="password" type="password" name="password" placeholder="Password" required />
    </label>
    <button id="login-submit" class="mo-button action-button" type="submit">Log In</button>
    <p>Don't have an account yet? Find out how to <span id="register-info" onclick="document.getElementById('register-dialog').showModal()">Register</span>!</p>
</form>

<script>
    const submitButton = document.getElementById("login-submit");
    const usernameInput = document.getElementById("username");
    const passwordInput = document.getElementById("password");

    [usernameInput, passwordInput].forEach((input) => {
        input.addEventListener("input", () => validateForm());
    });

    function validateForm() {
        if (usernameInput.value === "" || passwordInput.value === "") {
            submitButton.disabled = true;
        } else {
            submitButton.disabled = false;
        }
    }

    validateForm();
</script>
{% endblock %} {% block modals %}
<dialog id="register-dialog">
    <h2>How to register</h2>
    <p>To register, you need to contact the administrator of this website. They will provide you with a link to register your account.</p>
    <p>If you do not know who the administrator, you cannot register an account.</p>
    <button class="mo-button close-button" onclick="document.getElementById('register-dialog').close()">Ok</button>
</dialog>
{% endblock %}
